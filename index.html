<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DIY Microplastic Detection Device - Interactive Edition</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      color: #343a40;
      overflow-x: hidden;
    }

    /* Enhanced Header */
    header {
      background: linear-gradient(135deg, #005792 0%, #003366 100%);
      color: white;
      padding: 3rem 2rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="1.5" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="80" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="90" cy="90" r="0.5" fill="rgba(255,255,255,0.1)"/></svg>');
      animation: float 20s infinite linear;
    }

    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }

    header h1 {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 1rem;
      position: relative;
      z-index: 1;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }

    header p {
      font-size: 1.2rem;
      opacity: 0.9;
      position: relative;
      z-index: 1;
    }

    /* Enhanced Scroll Progress */
    .scroll-progress {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: rgba(255,255,255,0.1);
      z-index: 1000;
    }

    .scroll-progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #005792, #0066cc);
      width: 0%;
      transition: width 0.1s ease;
      box-shadow: 0 0 10px rgba(0,87,146,0.5);
    }

    /* Scroll Indicator */
    .scroll-indicator {
      position: fixed;
      right: 2rem;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255,255,255,0.9);
      padding: 1rem;
      border-radius: 50px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      z-index: 999;
      backdrop-filter: blur(10px);
    }

    .scroll-percentage {
      font-size: 1.2rem;
      font-weight: 600;
      color: #005792;
      text-align: center;
      margin-bottom: 0.5rem;
    }

    .scroll-bar {
      width: 4px;
      height: 100px;
      background: #e9ecef;
      border-radius: 2px;
      position: relative;
      margin: 0 auto;
    }

    .scroll-thumb {
      width: 100%;
      background: linear-gradient(180deg, #005792, #0066cc);
      border-radius: 2px;
      height: 0%;
      transition: height 0.1s ease;
    }

    /* Enhanced Main Content */
    main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 4rem 2rem;
    }

    /* Enhanced Section Styling */
    .section {
      margin-bottom: 5rem;
      position: relative;
    }

    .section::before {
      content: '';
      position: absolute;
      top: -2rem;
      left: 0;
      width: 60px;
      height: 4px;
      background: linear-gradient(90deg, #005792, #0066cc);
      border-radius: 2px;
    }

    .section-title {
      font-size: 2.5rem;
      font-weight: 700;
      color: #005792;
      margin-bottom: 3rem;
      position: relative;
      display: inline-block;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 0;
      width: 0;
      height: 3px;
      background: linear-gradient(90deg, #005792, #0066cc);
      transition: width 0.3s ease;
    }

    .section-title:hover::after {
      width: 100%;
    }

    /* Enhanced Cards */
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .card {
      background: white;
      border-radius: 16px;
      padding: 2rem;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(0,87,146,0.1);
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, #005792, #0066cc);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .card:hover::before {
      transform: scaleX(1);
    }

    .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 40px rgba(0,87,146,0.15);
    }

    .card-title {
      font-size: 1.4rem;
      font-weight: 600;
      color: #005792;
      margin-bottom: 1rem;
    }

    .card-description {
      color: #6c757d;
      font-size: 0.95rem;
      line-height: 1.6;
    }

    /* Enhanced Mindmap Sections */
    .mindmap-container {
      background: white;
      border-radius: 20px;
      padding: 3rem;
      box-shadow: 0 8px 30px rgba(0,0,0,0.1);
      margin: 3rem 0;
    }

    .mindmap-title {
      text-align: center;
      font-size: 2rem;
      font-weight: 700;
      color: #005792;
      margin-bottom: 2rem;
    }

    .mindmap {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      min-height: 400px;
    }

    .mindmap-node {
      background: white;
      border: 3px solid #005792;
      border-radius: 12px;
      padding: 1rem 1.5rem;
      margin: 1rem;
      position: relative;
      transition: all 0.3s ease;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .mindmap-node:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(0,87,146,0.2);
      border-color: #0066cc;
    }

    .central-node {
      background: linear-gradient(135deg, #005792, #0066cc);
      color: white;
      font-size: 1.2rem;
      font-weight: 600;
      border: none;
      padding: 1.5rem 2rem;
    }

    .level-1-node {
      background: linear-gradient(135deg, #e3f2fd, #bbdefb);
      border-color: #005792;
      color: #1a237e;
    }

    .level-2-node {
      background: linear-gradient(135deg, #f3e5f5, #e1bee7);
      border-color: #7b1fa2;
      color: #4a148c;
    }

    .level-3-node {
      background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
      border-color: #388e3c;
      color: #1b5e20;
    }

    /* Connection Lines */
    .connection-line {
      position: absolute;
      background: #005792;
      opacity: 0.3;
      z-index: -1;
    }

    /* Enhanced Popups */
    .popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      border-radius: 20px;
      padding: 3rem;
      max-width: 800px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      z-index: 1001;
      backdrop-filter: blur(10px);
    }

    .overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 1000;
      backdrop-filter: blur(5px);
    }

    .close-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: none;
      font-size: 2rem;
      cursor: pointer;
      color: #005792;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .close-btn:hover {
      background: rgba(0,87,146,0.1);
      transform: rotate(90deg);
    }

    .popup h3 {
      color: #005792;
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
    }

    .popup h4 {
      color: #0066cc;
      font-size: 1.3rem;
      margin: 1.5rem 0 1rem 0;
    }

    /* Enhanced Footer */
    footer {
      background: linear-gradient(135deg, #343a40, #495057);
      color: #adb5bd;
      text-align: center;
      padding: 3rem 2rem;
      margin-top: 4rem;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      header h1 {
        font-size: 2rem;
      }

      .section-title {
        font-size: 2rem;
      }

      .cards-grid {
        grid-template-columns: 1fr;
      }

      .scroll-indicator {
        right: 1rem;
        padding: 0.5rem;
      }

      .scroll-bar {
        height: 60px;
      }

      main {
        padding: 2rem 1rem;
      }
    }

    /* Interactive Elements */
    .hover-effect {
      transition: all 0.3s ease;
    }

    .hover-effect:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,87,146,0.15);
    }

    /* Tooltip */
    .tooltip {
      position: relative;
      display: inline-block;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 200px;
      background-color: #005792;
      color: white;
      text-align: center;
      border-radius: 6px;
      padding: 5px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -100px;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }

    /* Loading Animation */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid #f3f3f3;
      border-top: 3px solid #005792;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Pulsing Animation */
    .pulse {
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(1.05);
        opacity: 0.8;
      }
      100% {
        transform: scale(1);
        opacity: 1;
      }
    }
  </style>
</head>
<body>
  <!-- Enhanced Scroll Progress -->
  <div class="scroll-progress">
    <div class="scroll-progress-bar"></div>
  </div>

  <!-- Scroll Indicator -->
  <div class="scroll-indicator">
    <div class="scroll-percentage">0%</div>
    <div class="scroll-bar">
      <div class="scroll-thumb"></div>
    </div>
  </div>

  <!-- Enhanced Header -->
  <header>
    <h1>DIY Laser-Based Microplastic Detector</h1>
    <p>An Interactive Educational Project for Accessible Environmental Science</p>
  </header>

  <main>
    <!-- Understanding Section -->
    <div class="section">
      <h2 class="section-title">Understanding Microplastics & Project Goals</h2>
      <div class="cards-grid">
        <div class="card hover-effect" onclick="showPopup('popup1')">
          <div class="card-title">🎯 Project Overview</div>
          <div class="card-description">Discover the enhanced introduction to our DIY approach for microplastic detection in household water.</div>
        </div>
        <div class="card hover-effect" onclick="showPopup('popup-microplastics')">
          <div class="card-title">🌊 Microplastic Challenge</div>
          <div class="card-description">Learn about the global challenge of microplastic pollution and its environmental impact.</div>
        </div>
      </div>
    </div>

    <!-- Scientific Background Section -->
    <div class="section">
      <h2 class="section-title">Scientific Background & Detection Principles</h2>
      <div class="cards-grid">
        <div class="card hover-effect" onclick="showPopup('popup2')">
          <div class="card-title">🔬 Detection Principles</div>
          <div class="card-description">Explore laser scattering and laser-induced fluorescence techniques for microplastic detection.</div>
        </div>
        <div class="card hover-effect" onclick="showPopup('popup-conventional')">
          <div class="card-title">📊 Conventional Methods</div>
          <div class="card-description">Review traditional detection methods and their limitations in accessibility.</div>
        </div>
        <div class="card hover-effect" onclick="showPopup('popup-laser')">
          <div class="card-title">⚡ Laser-Based Techniques</div>
          <div class="card-description">Discover emerging laser-based detection methods and their advantages.</div>
        </div>
      </div>
    </div>

    <!-- Device Components Mindmap -->
    <div class="mindmap-container">
      <h2 class="mindmap-title">🔧 Device Components Overview</h2>
      <div class="mindmap">
        <div class="mindmap-node central-node pulse" onclick="showPopup('popup-device-overview')">
          <div class="tooltip">
            DIY Microplastic Detector
            <span class="tooltiptext">Click to learn more about the complete system</span>
          </div>
        </div>
        <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 2rem; margin-top: 3rem;">
          <div class="mindmap-node level-1-node hover-effect" onclick="showPopup('popup-sample-system')">
            <div class="tooltip">
              Sample Handling System
              <span class="tooltiptext">Water filtration and detection chamber</span>
            </div>
          </div>
          <div class="mindmap-node level-1-node hover-effect" onclick="showPopup('popup-optical-system')">
            <div class="tooltip">
              Optical System
              <span class="tooltiptext">Laser and photodetector components</span>
            </div>
          </div>
          <div class="mindmap-node level-1-node hover-effect" onclick="showPopup('popup-data-system')">
            <div class="tooltip">
              Data Acquisition
              <span class="tooltiptext">Microcontroller and processing unit</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Optical Components Mindmap -->
    <div class="mindmap-container">
      <h2 class="mindmap-title">🔍 Optical System Components</h2>
      <div class="mindmap">
        <div class="mindmap-node central-node pulse" onclick="showPopup('popup-optical-overview')">
          <div class="tooltip">
            Optical Detection System
            <span class="tooltiptext">Core optical components for detection</span>
          </div>
        </div>
        <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 2rem; margin-top: 3rem;">
          <div class="mindmap-node level-2-node hover-effect" onclick="showPopup('popup-laser-diode')">
            <div class="tooltip">
              Laser Diode (650nm)
              <span class="tooltiptext">Light source for detection</span>
            </div>
          </div>
          <div class="mindmap-node level-2-node hover-effect" onclick="showPopup('popup-photodetectors')">
            <div class="tooltip">
              Photodetectors
              <span class="tooltiptext">Light sensing components</span>
            </div>
          </div>
          <div class="mindmap-node level-2-node hover-effect" onclick="showPopup('popup-optical-filters')">
            <div class="tooltip">
              Optical Filters
              <span class="tooltiptext">Wavelength selection for fluorescence</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Detection Methods Mindmap -->
    <div class="mindmap-container">
      <h2 class="mindmap-title">🎯 Detection Methods</h2>
      <div class="mindmap">
        <div class="mindmap-node central-node pulse" onclick="showPopup('popup-detection-methods')">
          <div class="tooltip">
            Detection Techniques
            <span class="tooltiptext">Multiple detection approaches</span>
          </div>
        </div>
        <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 2rem; margin-top: 3rem;">
          <div class="mindmap-node level-3-node hover-effect" onclick="showPopup('popup-scattering')">
            <div class="tooltip">
              Laser Scattering
              <span class="tooltiptext">Particle size and presence detection</span>
            </div>
          </div>
          <div class="mindmap-node level-3-node hover-effect" onclick="showPopup('popup-fluorescence')">
            <div class="tooltip">
              Laser-Induced Fluorescence
              <span class="tooltiptext">Plastic identification with Nile Red</span>
            </div>
          </div>
          <div class="mindmap-node level-3-node hover-effect" onclick="showPopup('popup-transmission')">
            <div class="tooltip">
              Transmission Detection
              <span class="tooltiptext">Light attenuation measurement</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Implementation Section -->
    <div class="section">
      <h2 class="section-title">Implementation & Construction</h2>
      <div class="cards-grid">
        <div class="card hover-effect" onclick="showPopup('popup-materials')">
          <div class="card-title">📦 Materials & Components</div>
          <div class="card-description">Complete list of DIY-friendly components and materials needed for construction.</div>
        </div>
        <div class="card hover-effect" onclick="showPopup('popup-circuit')">
          <div class="card-title">⚡ Circuit Design</div>
          <div class="card-description">Detailed circuit diagrams and Arduino integration for the detection system.</div>
        </div>
        <div class="card hover-effect" onclick="showPopup('popup-software')">
          <div class="card-title">💻 Software & Code</div>
          <div class="card-description">Arduino programming and Python analysis scripts for data processing.</div>
        </div>
      </div>
    </div>

    <!-- Results & Analysis Section -->
    <div class="section">
      <h2 class="section-title">Results & Analysis</h2>
      <div class="cards-grid">
        <div class="card hover-effect" onclick="showPopup('popup-signals')">
          <div class="card-title">📈 Signal Interpretation</div>
          <div class="card-description">Understanding the expected results and signal patterns from the detection system.</div>
        </div>
        <div class="card hover-effect" onclick="showPopup('popup-limitations')">
          <div class="card-title">⚠️ Capabilities & Limitations</div>
          <div class="card-description">Realistic expectations and improvement opportunities for the DIY approach.</div>
        </div>
        <div class="card hover-effect" onclick="showPopup('popup-implications')">
          <div class="card-title">🌍 Environmental Impact</div>
          <div class="card-description">The broader implications of accessible microplastic detection technology.</div>
        </div>
      </div>
    </div>
  </main>

  <!-- Overlay for Popups -->
  <div class="overlay" id="overlay" onclick="hidePopups()"></div>

  <!-- Popup Modals -->
  <div class="popup" id="popup1">
    <button class="close-btn" onclick="hidePopups()">&times;</button>
    <h3>🎯 Project Overview & Enhanced Introduction</h3>
    <p>This project guides you in building your own low-cost, DIY laser-based device to detect microplastic particles in household drinking water. Microplastic pollution is a significant environmental and health concern, with particles found in aquatic environments and drinking water. Traditional detection methods are often expensive and inaccessible for widespread use.</p>
    <h4>Primary Goals:</h4>
    <ul>
      <li>Develop a scientifically sound yet economically viable detection system</li>
      <li>Make microplastic detection accessible to students, educators, and citizen scientists</li>
      <li>Provide hands-on learning experiences in environmental science and technology</li>
      <li>Enable preliminary environmental assessments at the community level</li>
    </ul>
    <p>This guide provides a foundational framework for replicating and further developing such a device, promoting hands-on learning and environmental awareness.</p>
  </div>

  <div class="popup" id="popup-microplastics">
    <button class="close-btn" onclick="hidePopups()">&times;</button>
    <h3>🌊 The Challenge of Microplastic Pollution</h3>
    <p>Microplastics, defined as plastic particles smaller than 5 millimeters, have become a pervasive pollutant in global ecosystems. Their presence is confirmed in oceans, freshwater bodies, soil, air, and critically, in the human food chain and drinking water supplies.</p>
    <h4>Environmental and Health Concerns:</h4>
    <ul>
      <li>Potential physical damage from ingestion</li>
      <li>Chemical leaching from plastic particles</li>
      <li>Transport of harmful substances and pathogens</li>
      <li>Bioaccumulation in food chains</li>
    </ul>
    <h4>The Detection Gap:</h4>
    <p>While sophisticated methods like FTIR spectroscopy exist, they are often expensive and require lab settings, limiting widespread monitoring. This project addresses this gap by proposing a low-cost, DIY solution that can be deployed in communities, schools, and homes.</p>
  </div>

  <div class="popup" id="popup2">
    <button class="close-btn" onclick="hidePopups()">&times;</button>
    <h3>🔬 Core Scientific Principles of Detection</h3>
    <p>The device utilizes two primary optical phenomena to detect and characterize microplastics:</p>
    <h4>1. Laser Scattering:</h4>
    <p>This technique is based on the principle that particles scatter light in a predictable manner depending on their size, shape, and refractive index. When the laser beam passes through the water sample, microplastic particles will cause the light to scatter.</p>
    <ul>
      <li><strong>Particle Detection & Counting:</strong> Each particle passing through the beam creates a scattering event</li>
      <li><strong>Size Estimation:</strong> The intensity of scattered light often correlates with particle size</li>
    </ul>
    <h4>2. Laser-Induced Fluorescence (LIF):</h4>
    <p>LIF relies on the phenomenon where certain materials absorb light at one wavelength and then emit light at a longer wavelength. Some plastics have intrinsic fluorescence, but more commonly, a fluorescent dye like Nile Red is used.</p>
    <ul>
      <li><strong>Microplastic Identification:</strong> Differentiating plastics from other non-fluorescing particles</li>
      <li><strong>Enhanced Sensitivity:</strong> Making it easier to spot plastic particles in complex samples</li>
    </ul>
  </div>

  <!-- Additional popups for all the mindmap nodes and other sections -->
  <div class="popup" id="popup-device-overview">
    <button class="close-btn" onclick="hidePopups()">&times;</button>
    <h3>🔧 Complete Device Architecture</h3>
    <p>The DIY Microplastic Detector integrates multiple subsystems to provide comprehensive detection capabilities:</p>
    <h4>System Integration:</h4>
    <ul>
      <li><strong>Modular Design:</strong> Each component can be upgraded independently</li>
      <li><strong>Open Source:</strong> All designs and code are freely available</li>
      <li><strong>Scalable:</strong> Can be adapted for different detection requirements</li>
      <li><strong>Educational:</strong> Designed for learning and experimentation</li>
    </ul>
    <p>The complete system demonstrates how modern sensing technology can be made accessible through thoughtful design and component selection.</p>
  </div>

  <div class="popup" id="popup-sample-system">
    <button class="close-btn" onclick="hidePopups()">&times;</button>
    <h3>💧 Sample Handling System</h3>
    <h4>Components:</h4>
    <ul>
      <li><strong>Water Inlet:</strong> Controlled entry point for samples</li>
      <li><strong>Multi-stage Filtration:</strong> Removes debris while preserving microplastics</li>
      <li><strong>Detection Chamber:</strong> Transparent chamber for optical analysis</li>
      <li><strong>Flow Control:</strong> Valves and tubes for sample management</li>
    </ul>
    <h4>Design Considerations:</h4>
    <p>The sample handling system must balance filtration efficiency with detection sensitivity, ensuring that microplastics are concentrated while larger debris is removed.</p>
  </div>

  <div class="popup" id="popup-optical-system">
    <button class="close-btn" onclick="hidePopups()">&times;</button>
    <h3>🔍 Optical Detection System</h3>
    <h4>Key Components:</h4>
    <ul>
      <li><strong>Laser Source:</strong> Provides coherent light for detection</li>
      <li><strong>Photodetectors:</strong> Convert light signals to electrical signals</li>
      <li><strong>Optical Filters:</strong> Isolate specific wavelengths for analysis</li>
      <li><strong>Beam Alignment:</strong> Ensures optimal light path geometry</li>
    </ul>
    <h4>Performance Characteristics:</h4>
    <p>The optical system is designed for maximum sensitivity while maintaining cost-effectiveness and ease of construction.</p>
  </div>

  <div class="popup" id="popup-data-system">
    <button class="close-btn" onclick="hidePopups()">&times;</button>
    <h3>💻 Data Acquisition & Processing</h3>
    <h4>Hardware Components:</h4>
    <ul>
      <li><strong>Arduino Microcontroller:</strong> Real-time data collection and control</li>
      <li><strong>Analog-to-Digital Conversion:</strong> Converts sensor signals to digital data</li>
      <li><strong>Serial Communication:</strong> Data transfer to computer systems</li>
      <li><strong>Power Management:</strong> Efficient power usage for portable operation</li>
    </ul>
    <h4>Software Features:</h4>
